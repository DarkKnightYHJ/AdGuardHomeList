name: Update List
on:
  workflow_dispatch:
  schedule:
    - cron: '0 * * * *'

jobs:
  update-list:
    name: Update Malware List
    runs-on: ubuntu-latest
    steps:
    - name: Checkout repo
      uses: actions/checkout@v3
    - name: Update list
      run: |
        wget "https://adguardteam.github.io/AdGuardSDNSFilter/Filters/filter.txt" -O "Ad Guard Home/Common/AdGuard_DNS_filter.txt"
        wget "https://adaway.org/hosts.txt" -O "Ad Guard Home/Common/AdAway_Default_Blocklist.txt"
        wget "https://pgl.yoyo.org/adservers/serverlist.php?hostformat=adblockplus&mimetype=plaintext" -O "Ad Guard Home/Common/Peter_Lowes_Blocklist.txt"
        wget "https://badmojr.gitlab.io/1hosts/Lite/adblock.txt" -O "Ad Guard Home/Common/1Host(Lite).txt"
        wget "https://badmojr.gitlab.io/1hosts/mini/adblock.txt" -O "Ad Guard Home/Common/1Host(mini).txt"
        wget "https://someonewhocares.org/hosts/zero/hosts" -O "Ad Guard Home/Common/Dan_Pollocks_List.txt"
        wget "https://raw.githubusercontent.com/hagezi/dns-blocklists/main/adblock/personal-blackwhite.txt" -O "Ad Guard Home/Common/HaGeZi_Personal_Black_White.txt"
        wget "https://raw.githubusercontent.com/notracking/hosts-blocklists/master/adblock/adblock.txt" -O "Ad Guard Home/Common/The_NoTracking_blocklist.txt"
        wget "https://small.oisd.nl/" -O "Ad Guard Home/Common/OISD_Blocklist_Small.txt"
        wget "https://big.oisd.nl/" -O "Ad Guard Home/Common/OISD_Blocklist_Big.txt"
        wget "https://raw.githubusercontent.com/StevenBlack/hosts/master/hosts" -O "Ad Guard Home/Common/Steven_Blacks_list.txt"
        wget "https://malware-filter.gitlab.io/malware-filter/phishing-filter-agh.txt" -O "Ad Guard Home/Security/Phishing URL Blocklist (PhishTank and OpenPhish).txt"
        wget "https://raw.githubusercontent.com/DandelionSprout/adfilt/master/Alternate%20versions%20Anti-Malware%20List/AntiMalwareAdGuardHome.txt" -O "Ad Guard Home/Security/Dandelion Sprouts Anti-Malware List.txt"
        wget "https://raw.githubusercontent.com/hoshsadiq/adblock-nocoin-list/master/hosts.txt" -O "Ad Guard Home/Security/NoCoin Filter List.txt"
        wget "https://raw.githubusercontent.com/durablenapkin/scamblocklist/master/adguard.txt" -O "Ad Guard Home/Security/Scam Blocklist by DurableNapkin.txt"
        wget "https://raw.githubusercontent.com/ShadowWhisperer/BlockLists/master/Lists/Malware" -O "Ad Guard Home/Security/ShadowWhisperers Malware List.txt"
        wget "https://raw.githubusercontent.com/AssoEchap/stalkerware-indicators/master/generated/hosts" -O "Ad Guard Home/Security/Stalkerware Indicators List.txt"
        wget "https://raw.githubusercontent.com/mitchellkrogza/The-Big-List-of-Hacked-Malware-Web-Sites/master/hosts" -O "Ad Guard Home/Security/The Big List of Hacked Malware Web Sites.txt"
        wget "https://malware-filter.gitlab.io/malware-filter/urlhaus-filter-agh.txt" -O "Ad Guard Home/Security/Malicious URL Blocklist (URLHaus).txt"
        wget "https://raw.githubusercontent.com/Cats-Team/AdRules/main/dns.txt" -O "Ad Guard Home/Others/CHN AdRules DNS List.txt"
        wget "https://anti-ad.net/easylist.txt" -O "Ad Guard Home/Others/CHN anti-AD.txt"
        wget "https://raw.githubusercontent.com/DandelionSprout/adfilt/master/GameConsoleAdblockList.txt" -O "Ad Guard Home/Others/Dandelion Sprouts Game Console Adblock List.txt"
        wget "https://raw.githubusercontent.com/nickspaargaren/no-google/master/pihole-google-adguard.txt" -O "Ad Guard Home/Others/No Google.txt"
        wget "https://raw.githubusercontent.com/Perflyst/PiHoleBlocklist/master/SmartTV-AGH.txt" -O "Ad Guard Home/Others/Perflyst and Dandelion Sprouts Smart-TV Blocklist.txt"
        wget "https://raw.githubusercontent.com/crazy-max/WindowsSpyBlocker/master/data/hosts/spy.txt" -O "Ad Guard Home/Others/WindowsSpyBlocker Hosts spy rules.txt"      
        wget "https://raw.githubusercontent.com/o0HalfLife0o/list/master/README.md" -O "Other collections/o0HalfLife0o/README.md"
        wget "https://raw.githubusercontent.com/o0HalfLife0o/list/master/ad-edentw.txt" -O "Other collections/o0HalfLife0o/ad-edentw.txt"
        wget "https://raw.githubusercontent.com/o0HalfLife0o/list/master/ad-mo.txt" -O "Other collections/o0HalfLife0o/ad-mo.txt"
        wget "https://raw.githubusercontent.com/o0HalfLife0o/list/master/ad-pc.txt" -O "Other collections/o0HalfLife0o/ad-pc.txt"
        wget "https://raw.githubusercontent.com/o0HalfLife0o/list/master/ad.txt" -O "Other collections/o0HalfLife0o/ad.txt"
        wget "https://raw.githubusercontent.com/o0HalfLife0o/list/master/ad2.txt" -O "Other collections/o0HalfLife0o/ad2.txt"
        wget "https://raw.githubusercontent.com/o0HalfLife0o/list/master/ad3.txt" -O "Other collections/o0HalfLife0o/ad3.txt"
        wget "https://easylist.to/easylist/easylist.txt" -O "Other collections/EasyList/easylist.txt"
        wget "https://easylist-downloads.adblockplus.org/easylistchina.txt" -O "Other collections/EasyList/easylistchina.txt"		
        wget "https://easylist-downloads.adblockplus.org/abp-filters-anti-cv.txt" -O "Other collections/EasyList/abp-filters-anti-cv.txt"
        wget "https://easylist-downloads.adblockplus.org/easylistchina+easylist.txt" -O "Other collections/EasyList/easylistchina+easylist.txt"
        wget "https://easylist-downloads.adblockplus.org/easyprivacy.txt" -O "Other collections/EasyList/easyprivacy.txt"
        wget "https://www.i-dont-care-about-cookies.eu/abp/" -O "Other collections/Others/i-dont-care-about-cookies.txt"
        wget "https://raw.githubusercontent.com/cjx82630/cjxlist/master/cjx-annoyance.txt" -O "Other collections/Others/cjx-annoyance.txt"
        wget "https://filters.adtidy.org/android/filters/15_optimized.txt" -O "Other collections/Others/15_optimized.txt"
        wget "https://anti-ad.net/adguard.txt" -O "Other collections/Others/adguard.txt"
    - name: Get Current Time
      id: t1
      uses: Kaven-Universe/github-action-current-date-time@v1
      with:
        format: "YYYY-MM-DD HH:mm:ss"
        # Use the output from the `t1` step
    - name: Commit & Push changes
      uses: actions-js/push@master
      with:
        github_token: ${{ secrets.MY_SECRET }}
        author_email: knight_yhj@163.com
        author_name: Knight Yang
        message: 'Update List By Github Action (committed at ${{ steps.t1.outputs.time }} UTC)'